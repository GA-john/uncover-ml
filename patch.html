<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Image Patch Module &mdash; uncover ML 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="uncover ML 0.1.0 documentation" href="index.html" />
    <link rel="next" title="I/O Module" href="io.html" />
    <link rel="prev" title="Geometry Module" href="geom.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="io.html" title="I/O Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="geom.html" title="Geometry Module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">uncover ML 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-uncoverml.patch">
<span id="image-patch-module"></span><h1>Image Patch Module<a class="headerlink" href="#module-uncoverml.patch" title="Permalink to this headline">¶</a></h1>
<p>Image patch extraction and windowing utilities.</p>
<dl class="function">
<dt id="uncoverml.patch.grid_patches">
<code class="descclassname">uncoverml.patch.</code><code class="descname">grid_patches</code><span class="sig-paren">(</span><em>image</em>, <em>pwidth</em>, <em>pstride</em>, <em>centreoffset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uncoverml.patch.grid_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate (overlapping) patches from an image. This function extracts square
patches from an image in an overlapping, dense grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> (<em>ndarray</em>) &#8211; an array of shape (x, y) or (x, y, channels).</li>
<li><strong>pwidth</strong> (<em>int</em>) &#8211; the half-width of the square patches to extract, in pixels. E.g.
pwidth = 0 gives a 1x1 patch, pwidth = 1 gives a 3x3 patch, pwidth
= 2 gives a 5x5 patch etc. The formula for calculating the full
patch width is pwidth * 2 + 1.</li>
<li><strong>pstride</strong> (<em>int</em>) &#8211; the stride (in pixels) between successive patches.</li>
<li><strong>centreoffset</strong> (<em>tuple, optional</em>) &#8211; a tuple of (x, y) offsets to add to the patch centres (centrex
and centrey)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><ul class="first last simple">
<li><strong>patch</strong> (<em>ndarray</em>) &#8211;
An image patch of shape (psize, psize, channels,), where
psize = pwidth * 2 + 1</li>
<li><strong>centrex</strong> (<em>float</em>) &#8211;
the centre (x coords) of the patch.</li>
<li><strong>centrey</strong> (<em>float</em>) &#8211;
the centre (y coords) of the patch.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="uncoverml.patch.image_window">
<code class="descclassname">uncoverml.patch.</code><code class="descname">image_window</code><span class="sig-paren">(</span><em>x_idx</em>, <em>y_idx</em>, <em>axis_splits</em>, <em>imshape</em>, <em>pwidth</em>, <em>pstride</em><span class="sig-paren">)</span><a class="headerlink" href="#uncoverml.patch.image_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Create sub-windows of an image. given specifications for a chunking scheme
and an index, returns the pixel slices of the image for the chunk at that
index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_idx</strong> (<em>int</em>) &#8211; the x-index of the chunk. 0 &lt;= x_idx &lt; axis_splits</li>
<li><strong>y_idx</strong> (<em>int</em>) &#8211; the y-index of the chunk. 0 &lt;= y_idx &lt; axis_splits</li>
<li><strong>axis_splits</strong> (<em>int</em>) &#8211; the number of splits per axis used to create chunks of data.
The total number of chunks is the square of this value. Aspect
ratio of the chunks is approximately equal to original image.
the number of windows to divide the image into. The nearest square
will actually be used (to preserve aspect ratio).</li>
<li><strong>imshape</strong> (<em>tuple</em>) &#8211; a tuple representing the image shape; (x, y).</li>
<li><strong>pwidth</strong> (<em>int</em>) &#8211; the half-width of the square patches to extract, in pixels. E.g.
pwidth = 0 gives a 1x1 patch, pwidth = 1 gives a 3x3 patch, pwidth
= 2 gives a 5x5 patch etc. The formula for calculating the full
patch width is pwidth * 2 + 1.</li>
<li><strong>pstride</strong> (<em>int</em>) &#8211; the stride (in pixels) between successive patches.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>slices</strong> &#8211;
a list of length round(sqrt(nwindows))**2 of tuples. Each tuple has
two slices (slice_x, slice_y) that represents a subwindow.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="uncoverml.patch.patches">
<code class="descclassname">uncoverml.patch.</code><code class="descname">patches</code><span class="sig-paren">(</span><em>image</em>, <em>pointspec</em>, <em>patch_width</em>, <em>centreoffset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uncoverml.patch.patches" title="Permalink to this definition">¶</a></dt>
<dd><p>High-level function abstracting over what sort of patches we&#8217;re getting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> (<em>ndarray</em>) &#8211; an array of shape (x, y) or (x, y, channels)</li>
<li><strong>pointspec</strong> (<em>GridPointSpec or ListPointSpec</em>) &#8211; a pointspec object describing the required patch locations</li>
<li><strong>patch_width</strong> (<em>int</em>) &#8211; the half-width of the square patches to extract</li>
<li><strong>centreoffset</strong> (<em>tuple, optional</em>) &#8211; a tuple of (x, y) offsets to add to the patch centres (centrex
and centrey)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A flattened patch of shape ((pwidth * 2 + 1)**2 * channels,)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="uncoverml.patch.point_patches">
<code class="descclassname">uncoverml.patch.</code><code class="descname">point_patches</code><span class="sig-paren">(</span><em>image</em>, <em>points</em>, <em>pwidth</em>, <em>centreoffset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#uncoverml.patch.point_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract patches from an image at specified points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image</strong> (<em>ndarray</em>) &#8211; an array of shape (x, y) or (x, y, channels).</li>
<li><strong>points</strong> (<em>ndarray</em>) &#8211; of shape (N, 2) where there are N points, each with an x and y
coordinate of the patch centre within the image.</li>
<li><strong>pwidth</strong> (<em>int</em>) &#8211; the half-width of the square patches to extract, in pixels. E.g.
pwidth = 0 gives a 1x1 patch, pwidth = 1 gives a 3x3 patch, pwidth
= 2 gives a 5x5 patch etc. The formula for calculating the full
patch width is pwidth * 2 + 1.</li>
<li><strong>centreoffset</strong> (<em>tuple, optional</em>) &#8211; a tuple of (x, y) offsets to add to the patch centres (centrex
and centrey)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><ul class="first last simple">
<li><strong>patch</strong> (<em>ndarray</em>) &#8211;
An image patch of shape (psize, psize, channels,), where
psize = pwidth * 2 + 1</li>
<li><strong>centrex</strong> (<em>float</em>) &#8211;
the centre (x coords) of the patch.</li>
<li><strong>centrey</strong> (<em>float</em>) &#8211;
the centre (y coords) of the patch.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="geom.html"
                        title="previous chapter">Geometry Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="io.html"
                        title="next chapter">I/O Module</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="io.html" title="I/O Module"
             >next</a> |</li>
        <li class="right" >
          <a href="geom.html" title="Geometry Module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">uncover ML 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, NICTA Spatial Inference Systems Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>